!function(){const e=document.getElementById("y");e&&(e.textContent=(new Date).getFullYear())}(),function(){const e=document.documentElement,t=document.getElementById("themeToggle"),n=n=>{if("light"===n?e.setAttribute("data-theme","light"):e.removeAttribute("data-theme"),t){const e="light"===n;if(!t.querySelector("svg")){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("aria-hidden","true"),e.classList.add("icon","sun");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("fill","currentColor"),n.setAttribute("d","M12 7.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Zm0-5a1 1 0 0 1 1 1v1.5a1 1 0 1 1-2 0V3.5a1 1 0 0 1 1-1ZM12 20.5a1 1 0 0 1-1-1V18a1 1 0 1 1 2 0v1.5a1 1 0 0 1-1 1ZM3.5 11a1 1 0 0 1 1-1H6a1 1 0 1 1 0 2H4.5a1 1 0 0 1-1-1Zm15.5-1a1 1 0 1 1 0 2h1.5a1 1 0 1 1 0-2H19ZM5.05 4.64a1 1 0 0 1 1.41 0L7.6 5.78a1 1 0 1 1-1.41 1.41L5.05 6.05a1 1 0 0 1 0-1.41Zm10.8 10.8a1 1 0 0 1 1.41 0l1.13 1.13a1 1 0 1 1-1.41 1.41l-1.13-1.13a1 1 0 0 1 0-1.41Zm1.13-10.8a1 1 0 0 1 1.41 1.41L17.26 7.6a1 1 0 1 1-1.41-1.41l1.13-1.13ZM6.05 16.4a1 1 0 0 1 1.41 1.41l-1.13 1.13a1 1 0 0 1-1.41-1.41L6.05 16.4Z"),e.appendChild(n);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 24 24"),o.setAttribute("aria-hidden","true"),o.classList.add("icon","moon");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("fill","currentColor"),r.setAttribute("d","M21 12.75a8.25 8.25 0 0 1-11.5 7.62 8.25 8.25 0 0 0 0-15.24A8.25 8.25 0 0 1 21 12.75Z"),o.appendChild(r),t.innerHTML="",t.appendChild(e),t.appendChild(o)}t.classList.toggle("is-light",e),t.setAttribute("aria-label",e?"ダークモードに切り替え":"ライトモードに切り替え"),t.title=e?"ダークモードに切り替え":"ライトモードに切り替え"}},o="undefined"!=typeof localStorage?localStorage.getItem("theme"):null;n("light"===o||"dark"===o?o:"dark"),t&&t.addEventListener("click",()=>{const t="light"===("light"===e.getAttribute("data-theme")?"light":"dark")?"dark":"light";n(t);try{localStorage.setItem("theme",t)}catch(e){}})}(),function(){const e=document.getElementById("navLinks"),t=document.getElementById("menuBtn");if(!e||!t)return;const n=n=>{e.classList.toggle("show",n),t.setAttribute("aria-expanded",String(!!n))};t.addEventListener("click",()=>{const t=e.classList.contains("show");if(n(!t),!t){const t=e.querySelector("a");t&&t.focus()}}),document.addEventListener("click",o=>{e.classList.contains("show")&&(e.contains(o.target)||o.target===t||n(!1))}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n(!1)})}(),function(){const e=document.getElementById("navLinks"),t=document.getElementById("menuBtn");document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",o=>{const r=n.getAttribute("href");if(!r||"#"===r)return;const s=document.querySelector(r);s&&(o.preventDefault(),s.scrollIntoView({behavior:"smooth",block:"start"}),e&&e.classList.remove("show"),t&&t.setAttribute("aria-expanded","false"))})})}(),function(){const e=document.querySelector(".server-shot picture");if(!e)return;const t=e.querySelector("img");if(!t)return;const n=e.querySelector("source"),o=n?n.srcset:"",r="server image.png",s=o||r;s&&fetch(s,{method:"HEAD"}).then(e=>{e.ok&&(t.src||(t.src=r),t.style.display="block")}).catch(()=>{})}(),function(){const e=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=[...document.querySelectorAll(".card"),...document.querySelectorAll(".embed-card"),...document.querySelectorAll(".cta-wrap"),...document.querySelectorAll("section h2"),...document.querySelectorAll(".rule"),...document.querySelectorAll(".server-shot")];if(0===t.length)return;if(t.forEach(e=>{e.classList.add("reveal");const n=e.parentElement;if(n&&n.classList&&n.classList.contains("grid")){const o=Array.from(n.children).filter(e=>t.includes(e)).indexOf(e);o>=0&&(e.style.transitionDelay=`${Math.min(60*o,360)}ms`)}}),e||"undefined"==typeof IntersectionObserver)return void t.forEach(e=>e.classList.add("is-visible"));const n=e=>e<=480?0:e<=768?1:e<=1024?2:3;let o=null,r=n(window.innerWidth||document.documentElement.clientWidth||0);const s=()=>{o&&o.disconnect();const e=(e=>{switch(e){case 0:return{root:null,rootMargin:"0px 0px 40% 0px",threshold:.05};case 1:return{root:null,rootMargin:"0px 0px 30% 0px",threshold:.1};case 2:return{root:null,rootMargin:"0px 0px 10% 0px",threshold:.15};default:return{root:null,rootMargin:"0px 0px -10% 0px",threshold:.2}}})(r);o=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},e),t.forEach(e=>{e.classList.contains("is-visible")||o.observe(e)})};s();let a=0;const c=()=>{const e=window.innerWidth||document.documentElement.clientWidth||0,t=n(e);t!==r&&(r=t,s())},i=()=>{a&&clearTimeout(a),a=setTimeout(c,150)};window.addEventListener("resize",i),window.addEventListener("orientationchange",i)}(),function(){const e="2025-12-16",t="hoxica_tos";let n=!1;try{const o=localStorage.getItem(t);if(o){const t=JSON.parse(o);n=t&&t.version===e&&!0===t.accepted}}catch(e){}if(n)return;const o=document,r=o.body,s=o.createElement("div");s.className="modal-backdrop show";const a=o.createElement("div");a.className="tos-modal show",a.setAttribute("role","dialog"),a.setAttribute("aria-modal","true"),a.setAttribute("aria-labelledby","tos-title"),a.setAttribute("aria-describedby","tos-desc");const c=o.createElement("div");c.className="tos-dialog";const i=o.createElement("div");i.className="tos-head",i.innerHTML='<h3 id="tos-title">利用規約への同意</h3>';const l=o.createElement("div");l.className="tos-body",l.innerHTML='\n    <p id="tos-desc">Hoxica Nexus Realm のご利用にあたり、<a href="terms.html" target="_blank" rel="noopener noreferrer">利用規約</a>への同意が必要です。以下は概要です。全文はリンクからご確認ください。</p>\n    <div class="excerpt">\n      <strong>主な内容（概要）</strong><br>\n      ・マナー違反やチート等の禁止事項<br>\n      ・スタッフの指示への協力、違反時の罰則<br>\n      ・アカウント管理は所有者の責任、免責事項 等\n    </div>\n  ';const d=o.createElement("div");d.className="tos-foot";const u=o.createElement("button");u.className="btn-ghost",u.type="button",u.textContent="同意しない";const m=o.createElement("button");m.className="btn",m.type="button",m.textContent="同意する",d.append(u,m),c.append(i,l,d),a.append(c),r.append(s,a),r.classList.add("no-scroll");const h=()=>Array.from(c.querySelectorAll('a[href], button, [tabindex]:not([tabindex="-1"])')).filter(e=>!e.hasAttribute("disabled")),g=()=>{(h()[0]||m).focus()};setTimeout(g,0),a.addEventListener("keydown",e=>{if("Tab"===e.key){const t=h();if(0===t.length)return;const n=t.indexOf(document.activeElement);e.shiftKey?n<=0&&(e.preventDefault(),t[t.length-1].focus()):(-1===n||n>=t.length-1)&&(e.preventDefault(),t[0].focus())}"Escape"===e.key&&e.preventDefault()});m.addEventListener("click",()=>{try{localStorage.setItem(t,JSON.stringify({version:e,accepted:!0,ts:Date.now()}))}catch(e){}a.classList.remove("show"),s.classList.remove("show"),r.classList.remove("no-scroll"),a.remove(),s.remove()}),u.addEventListener("click",()=>{alert("利用規約に同意いただけない場合、サイトをご利用いただけません。規約をご確認のうえ、同意するを押してください。"),g()})}();